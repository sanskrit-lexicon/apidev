
apidev/htmlwork

For each dictionary, the 'basic display'  constructs most of the html for
  all of the displays (for the basic display itself, for the list display,
  for the advanced search display, and for the mobile1 display).  The
  heart of the 'headless' basic display is the 'disp' function in
  web/webtc/disp.php (for given dictionary).
  This function takes care of most of the dictionary-specific details of
  displaying a record from X.xml.

In unifying the displays, we are trying the idea of constructing an
  Xhtml.sqlite database for each dictionary X.  Let the generalized 
  display function take generated html as input.

Because the overal structure of the html generated by the various disp functions
is similar,  it is believed that a single program can construct the html
for any dictionary; the only caveat currently unknown regards the 
run-time 'accent/noaccent' parameter of the basic display for some 
dictionaries.
As of today (June 6, 2015), it is believed that accents occur for these
dictionaries: CCS, CAE, PW, PWG,MW, PD. 
  (see awork/misc/misc/accentchk.txt)



python redoall.py > redoall_log.txt
  Takes about 40 minutes to do 32 (other 4 were done separately)
MD and YAT : "html ERROR 1: actual # lines in table = 4"


MW did not work, for some reason
When this was fixed, another problem occurs in dal_sqlite for MW, when
  calling other sqlite files. The path designations ../sqlite/xxx.sqlite
  are wrong.  Need to change relative to the directory containing
  dal_sqlite.
  This problem solved.

YAT and MD have slightly different displays, and thus make_html.php has
to be adjusted.  This was solved by make using a variant make_html_YAT_MD.php

sh redo_all.sh
Runs  redohtml.py for all 36 dictionaries.
[June 2015 - genhtml not redone. See comment in redoall.py]
This takes over an hour.
python redoall.py >& redoall_log.txt  

sh redo_one.sh X  # runs genhtml and redohtml for one dictionary X

python checkhtml.py > checkhtml.txt
  summarizes file sizes for all the Xhtml.sqlite files, and compares to
  sizes for xml.sqlite files . The totals are:
 778.6 MB in html sqlite files
 651.1 MB in  xml sqlite files

